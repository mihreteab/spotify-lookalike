'use client'
import { CheckBadgeIcon, Cog8ToothIcon } from "@heroicons/react/24/solid";
import Image from "next/image";
import MusicList from "./playlist-list";
import MostListendList from "./most-listened-list";
import TrackOfTheWeek from "./track-of-the-week";
import { useState } from "react";
import AudioPlayer, { MusicType } from "./audio-player";
import NavBar from '@/app/ui/nav-bar'

export interface PlaylistType {
  id: string
  src: string
  poster: string
  title: string
  album: string
  liked: boolean
  musicType: MusicType
  currentPlaying?: boolean
}

export default function SpotifyHomePage() {
  const [currentPlayingPlylist, setCurrentPlayingPlaylist] = useState<PlaylistType[]>([])

  return (
    <>
      <div className='flex gap-x-12 mt-4.5 items-center py-3 px-5 md:mt-10 pt-0 md:px-7'>
        <div>
          <svg width="60" height="60" viewBox="0 0 61 60" className="h-12 w-12 md:h-18.75 md:w-18.75" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M30.4998 0C13.9317 0 0.5 13.4317 0.5 30.0002C0.5 46.5694 13.9317 60 30.4998 60C47.0697 60 60.5 46.5694 60.5 30.0002C60.5 13.4328 47.0697 0.00143297 30.4995 0.00143297L30.4998 0ZM44.2575 43.2689C43.7202 44.1502 42.5667 44.4296 41.6854 43.8886C34.6418 39.5861 25.7747 38.6117 15.3321 40.9976C14.3258 41.2269 13.3227 40.5964 13.0935 39.5897C12.8631 38.583 13.4911 37.5799 14.4999 37.3507C25.9276 34.7387 35.7301 35.8639 43.6378 40.6967C44.5191 41.2376 44.7985 42.3876 44.2575 43.2689ZM47.9295 35.0991C47.2524 36.2007 45.8123 36.5482 44.7125 35.8711C36.6486 30.9133 24.3564 29.4779 14.8184 32.3732C13.5814 32.7468 12.2749 32.0497 11.8995 30.8148C11.5269 29.5778 12.2244 28.2738 13.4592 27.8976C24.3543 24.5917 37.8988 26.1931 47.1593 31.8838C48.259 32.5609 48.6065 34.0011 47.9295 35.0994V35.0991ZM48.2447 26.5929C38.5759 20.8499 22.6236 20.3218 13.3922 23.1237C11.9098 23.5733 10.3422 22.7364 9.89297 21.254C9.44374 19.7708 10.2799 18.2042 11.7633 17.7536C22.3603 14.5365 39.9766 15.1581 51.1085 21.7666C52.4447 22.558 52.8817 24.2801 52.09 25.6117C51.3019 26.9451 49.5752 27.3846 48.2462 26.5929H48.2447Z" fill="#1ED760" />
          </svg>
        </div>
        <div className='border-2 border-customGray rounded-full flex-1 flex justify-between items-center p-5 h-12 md:h-18.75'>
          <div className='flex content-center gap-5 flex-1 items-center'>
            <div className='border-3 border-white h-5 w-5 rounded-xl shrink-0'></div>
            <input placeholder="Search..." className="focus:outline-none bg-[#000000] w-full h-11 md:h-18"/>
          </div>
          <div className='hidden md:flex content-center gap-5'>
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M23 5.99985C23.4641 5.99985 23.9092 5.81547 24.2374 5.48728C24.5656 5.15909 24.75 4.71398 24.75 4.24985C24.75 3.78572 24.5656 3.3406 24.2374 3.01241C23.9092 2.68422 23.4641 2.49985 23 2.49985L20.781 2.49985C20.4738 1.96782 20.032 1.52603 19.4999 1.21887C18.9679 0.911707 18.3643 0.75 17.75 0.75C17.1357 0.75 16.5321 0.911707 16.0001 1.21887C15.468 1.52603 15.0262 1.96782 14.719 2.49985L2 2.49985C1.53587 2.49985 1.09075 2.68422 0.762562 3.01241C0.434374 3.3406 0.25 3.78572 0.25 4.24985C0.25 4.71397 0.434374 5.15909 0.762562 5.48728C1.09075 5.81547 1.53587 5.99985 2 5.99985L14.719 5.99985C15.0262 6.53187 15.468 6.97366 16.0001 7.28083C16.5321 7.58799 17.1357 7.74969 17.75 7.74969C18.3643 7.74969 18.9679 7.58799 19.4999 7.28083C20.032 6.97366 20.4738 6.53187 20.781 5.99985L23 5.99985ZM24.75 14.7498C24.75 15.214 24.5656 15.6591 24.2374 15.9873C23.9092 16.3155 23.4641 16.4998 23 16.4998L10.281 16.4998C9.9738 17.0319 9.53197 17.4737 8.99992 17.7808C8.46787 18.088 7.86435 18.2497 7.25 18.2497C6.63565 18.2497 6.03212 18.088 5.50008 17.7808C4.96803 17.4737 4.5262 17.0319 4.219 16.4998L2 16.4998C1.53587 16.4998 1.09075 16.3155 0.762561 15.9873C0.434373 15.6591 0.249999 15.214 0.249999 14.7498C0.249999 14.2857 0.434373 13.8406 0.762561 13.5124C1.09075 13.1842 1.53587 12.9998 2 12.9998L4.219 12.9998C4.5262 12.4678 4.96803 12.026 5.50008 11.7189C6.03213 11.4117 6.63565 11.25 7.25 11.25C7.86435 11.25 8.46787 11.4117 8.99992 11.7189C9.53197 12.026 9.9738 12.4678 10.281 12.9998L23 12.9998C23.4641 12.9998 23.9092 13.1842 24.2374 13.5124C24.5656 13.8406 24.75 14.2857 24.75 14.7498Z" fill="white" />
            </svg>
            <p>Filters</p>
          </div>
        </div>
        <div className='hidden lg:flex border-2 items-center border-customGray rounded-full h-18.75, gap-7.5 pt-0.5 pr-0.5 pb-px pl-7.5'>
          <CheckBadgeIcon className='h-7 w-7' />
          <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clip-rule="evenodd" d="M0.5 5C0.5 3.80653 0.974106 2.66193 1.81802 1.81802C2.66193 0.974106 3.80653 0.5 5 0.5H20C20.2786 0.5 20.5516 0.577572 20.7886 0.724024C21.0256 0.870476 21.2171 1.08002 21.3416 1.32918C21.4662 1.57834 21.519 1.85727 21.4939 2.13471C21.4689 2.41215 21.3671 2.67715 21.2 2.9L17.375 8L21.2 13.1C21.3671 13.3229 21.4689 13.5878 21.4939 13.8653C21.519 14.1427 21.4662 14.4217 21.3416 14.6708C21.2171 14.92 21.0256 15.1295 20.7886 15.276C20.5516 15.4224 20.2786 15.5 20 15.5H5C4.60217 15.5 4.22064 15.658 3.93934 15.9393C3.65804 16.2206 3.5 16.6022 3.5 17V21.5C3.5 21.8978 3.34196 22.2794 3.06066 22.5607C2.77936 22.842 2.39782 23 2 23C1.60218 23 1.22064 22.842 0.93934 22.5607C0.658035 22.2794 0.5 21.8978 0.5 21.5V5Z" fill="white" />
          </svg>
          <Cog8ToothIcon className='h-7 w-7' />
          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.9999 3C12.613 3 10.3238 3.94821 8.63596 5.63604C6.94814 7.32387 5.99992 9.61305 5.99992 12V17.379L4.93942 18.4395C4.72971 18.6493 4.5869 18.9165 4.52905 19.2075C4.4712 19.4984 4.5009 19.7999 4.61441 20.074C4.72791 20.348 4.92012 20.5823 5.16674 20.7471C5.41335 20.9119 5.7033 20.9999 5.99992 21H23.9999C24.2966 20.9999 24.5865 20.9119 24.8331 20.7471C25.0797 20.5823 25.2719 20.348 25.3854 20.074C25.4989 19.7999 25.5287 19.4984 25.4708 19.2075C25.4129 18.9165 25.2701 18.6493 25.0604 18.4395L23.9999 17.379V12C23.9999 9.61305 23.0517 7.32387 21.3639 5.63604C19.6761 3.94821 17.3869 3 14.9999 3ZM14.9999 27C13.8064 27 12.6619 26.5259 11.8179 25.682C10.974 24.8381 10.4999 23.6935 10.4999 22.5H19.4999C19.4999 23.6935 19.0258 24.8381 18.1819 25.682C17.338 26.5259 16.1934 27 14.9999 27Z" fill="white" />
          </svg>
          <div className="border-2 border-customGray rounded-full">
            <Image
              src='/profile.png'
              alt='lofi 1'
              width={72}
              height={72}
              className='object-cover object-top w-13 h-18 rounded-full'
            />
          </div>
        </div>
        <NavBar />
      </div>
      <div className="flex">
        <div className="fixed flex bg-[#000000] md:relative bottom-0 right-0 left-0 h-16 md:h-auto justify-around  md:justify-start flex-row md:flex-col md:gap-10 md:pt-10 items-center md:w-32 md:shrink-0">
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.8852 3.24496C16.5108 2.9125 16.0152 2.72726 15.5001 2.72726C14.985 2.72726 14.4893 2.9125 14.115 3.24496L4.34889 11.9154C4.04986 12.1812 3.81175 12.5016 3.64916 12.8569C3.48657 13.2122 3.40291 13.595 3.40332 13.9817V24.5309C3.40386 25.2841 3.72271 26.0062 4.2898 26.5385C4.85689 27.0709 5.6258 27.37 6.42752 27.37H9.45171C10.2538 27.37 12.4759 27.3485 12.4759 27.3485C12.4759 27.3485 12.4759 25.2825 12.4759 24.529V19.7942C12.4759 19.543 12.5821 19.3022 12.7712 19.1246C12.9602 18.947 13.2166 18.8472 13.484 18.8472H17.5162C17.7836 18.8472 18.04 18.947 18.229 19.1246C18.4181 19.3022 18.5243 19.543 18.5243 19.7942V24.529C18.5243 25.2825 18.5243 27.3485 18.5243 27.3485C18.5243 27.3485 20.7464 27.37 21.5485 27.37H24.5727C25.3747 27.37 26.144 27.0706 26.7111 26.5379C27.2782 26.0051 27.5969 25.2825 27.5969 24.529V13.9798C27.5967 13.5932 27.5126 13.2108 27.3497 12.8558C27.1868 12.5008 26.9484 12.1809 26.6493 11.9154L16.8852 3.24117V3.24496Z" fill="white" />
          </svg>
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 28.5C22.9558 28.5 29 22.4558 29 15C29 7.54416 22.9558 1.5 15.5 1.5C8.04416 1.5 2 7.54416 2 15C2 22.4558 8.04416 28.5 15.5 28.5ZM15.9772 11.1794C18.7052 9.85514 20.0692 9.19301 20.7876 9.6837C20.9418 9.789 21.075 9.92216 21.1803 10.0763C21.6709 10.7947 21.0088 12.1587 19.6846 14.8867L19.6846 14.8867C18.9765 16.3454 18.6225 17.0747 18.011 17.2705C17.8744 17.3143 17.7321 17.3382 17.5887 17.3416C17.5035 17.3436 17.4195 17.3353 17.3352 17.3166C17.064 17.8297 16.3414 18.1805 15.0228 18.8206C12.2948 20.1449 10.9308 20.807 10.2124 20.3163C10.0582 20.211 9.92504 20.0778 9.81974 19.9237C9.32905 19.2053 9.99118 17.8413 11.3154 15.1133C12.0235 13.6546 12.3775 12.9253 12.989 12.7295C13.1256 12.6857 13.2679 12.6618 13.4113 12.6584C13.4965 12.6564 13.5805 12.6647 13.6648 12.6834C13.936 12.1703 14.6586 11.8195 15.9772 11.1794Z" fill="#333333" />
          </svg>
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11 6C11 4.80653 11.4741 3.66193 12.318 2.81802C13.1619 1.97411 14.3065 1.5 15.5 1.5C16.6935 1.5 17.8381 1.97411 18.682 2.81802C19.5259 3.66193 20 4.80653 20 6V12C20 13.1935 19.5259 14.3381 18.682 15.182C17.8381 16.0259 16.6935 16.5 15.5 16.5C14.3065 16.5 13.1619 16.0259 12.318 15.182C11.4741 14.3381 11 13.1935 11 12V6ZM17 22.395C19.4993 22.0339 21.7848 20.7844 23.4378 18.8752C25.0907 16.9661 26.0003 14.5253 26 12C26 11.6022 25.842 11.2206 25.5607 10.9393C25.2794 10.658 24.8978 10.5 24.5 10.5C24.1022 10.5 23.7206 10.658 23.4393 10.9393C23.158 11.2206 23 11.6022 23 12C23 13.9891 22.2098 15.8968 20.8033 17.3033C19.3968 18.7098 17.4891 19.5 15.5 19.5C13.5109 19.5 11.6032 18.7098 10.1967 17.3033C8.79018 15.8968 8 13.9891 8 12C8 11.6022 7.84196 11.2206 7.56066 10.9393C7.27936 10.658 6.89782 10.5 6.5 10.5C6.10218 10.5 5.72064 10.658 5.43934 10.9393C5.15804 11.2206 5 11.6022 5 12C4.99966 14.5253 5.9093 16.9661 7.56223 18.8752C9.21516 20.7844 11.5007 22.0339 14 22.395V23.25V24V24.75V25.5C14 25.5 14 25.5 14 26.25C14 27.75 17 27.75 17 26.25C17 25.5 17 25.5 17 25.5V24.75C17 24.75 17 24 17 23.25C17 22.5 17 22.395 17 22.395Z" fill="#333333" />
          </svg>
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 4.5C10.6022 4.5 10.2206 4.65804 9.93934 4.93934C9.65804 5.22064 9.5 5.60218 9.5 6C9.5 6.39782 9.65804 6.77936 9.93934 7.06066C10.2206 7.34196 10.6022 7.5 11 7.5H20C20.3978 7.5 20.7794 7.34196 21.0607 7.06066C21.342 6.77936 21.5 6.39782 21.5 6C21.5 5.60218 21.342 5.22064 21.0607 4.93934C20.7794 4.65804 20.3978 4.5 20 4.5H11ZM6.5 10.5C6.5 10.1022 6.65804 9.72064 6.93934 9.43934C7.22064 9.15804 7.60218 9 8 9H23C23.3978 9 23.7794 9.15804 24.0607 9.43934C24.342 9.72064 24.5 10.1022 24.5 10.5C24.5 10.8978 24.342 11.2794 24.0607 11.5607C23.7794 11.842 23.3978 12 23 12H8C7.60218 12 7.22064 11.842 6.93934 11.5607C6.65804 11.2794 6.5 10.8978 6.5 10.5ZM3.5 16.5C3.5 15.7044 3.81607 14.9413 4.37868 14.3787C4.94129 13.8161 5.70435 13.5 6.5 13.5H24.5C25.2956 13.5 26.0587 13.8161 26.6213 14.3787C27.1839 14.9413 27.5 15.7044 27.5 16.5V22.5C27.5 23.2956 27.1839 24.0587 26.6213 24.6213C26.0587 25.1839 25.2956 25.5 24.5 25.5H6.5C5.70435 25.5 4.94129 25.1839 4.37868 24.6213C3.81607 24.0587 3.5 23.2956 3.5 22.5V16.5Z" fill="#333333" />
          </svg>
          <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.25794 7.758C6.38311 6.63317 7.90895 6.00128 9.49994 6.00128C11.0909 6.00128 12.6168 6.63317 13.7419 7.758L15.4999 9.5145L17.2579 7.758C17.8114 7.18494 18.4735 6.72784 19.2055 6.41339C19.9375 6.09894 20.7249 5.93342 21.5215 5.9265C22.3182 5.91957 23.1083 6.07138 23.8457 6.37307C24.583 6.67475 25.253 7.12027 25.8163 7.68363C26.3797 8.24698 26.8252 8.9169 27.1269 9.65427C27.4286 10.3917 27.5804 11.1817 27.5734 11.9784C27.5665 12.7751 27.401 13.5624 27.0865 14.2944C26.7721 15.0265 26.315 15.6885 25.7419 16.242L15.4999 26.4855L5.25794 16.242C4.13311 15.1168 3.50122 13.591 3.50122 12C3.50122 10.409 4.13311 8.88316 5.25794 7.758Z" fill="#333333" />
          </svg>

        </div>
        <div className='ml-6.5 overflow-hidden'>
          <p className="py-6.5">PlayList For You</p>
          <MusicList
            setCurrentPlayingPlaylist={setCurrentPlayingPlaylist}
            // setCurrentPlayingItem={setCurrentPlayingItem}
          />
          <div className="flex flex-col md:w-[697px] lg:w-auto lg:flex-row lg:gap-20">
            <div>
              <p className="py-6.5">What you listen to the most</p>
              <MostListendList />
            </div>
            <div>
              <p className="py-6.5">Tracks of the week</p>
              <TrackOfTheWeek
                setCurrentPlayingPlaylist={setCurrentPlayingPlaylist}
              />
            </div>
          </div>
        </div>
        {currentPlayingPlylist.length > 0 && <AudioPlayer
          playlist={currentPlayingPlylist}
        />}
      </div>
    </>
  )
}